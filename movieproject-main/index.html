<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VGC</title>
  <link rel="stylesheet" href="/assets/css/index_style.css">
  <link rel="icon" href="/images/icon.png">
  <style>
    .movie {
      position: relative;
      overflow: hidden;
      display: inline-block;
    }

    .movie img {
      transition: filter 0.3s ease-in-out;
    }

    .movie:hover img {
      filter: brightness(0.5);
    }

    .movie .description {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px;
      border-radius: 5px;
      font-size: 16px;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }

    .movie:hover .description {
      opacity: 1;
    }
  </style>
</head>

<body>
  <!-- ===============대가리부분===================== -->
  <header>
    <div class="title">
      <div class="title_name">
        <a href="/index.html">
          <img src="/images/logo.png">
        </a>
      </div>
      <div class="title_menu">
        <nav>
          <ul class="menu_a">
            <li>
              <a href="/html/movie_list.html">영화</a>
            </li>
            <li>
              <a href="/html/map.html">극장</a>
            </li>
            <!-- 예약 정보 버튼을 로그인 상태에서만 보이게 함 -->
            <li id="reservation-btn" style="display:none;"><a href="/html/ticket.html">예약 정보</a></li>
          </ul>
          <ul class="menu_b">
            <li id="login-btn"><a href="/html/jinjalogin.html">로그인</a></li>
            <li id="signup-btn"><a href="/html/joinanim.html">회원가입</a></li>
            <li id="logout-btn" style="display:none;"><a href="#" id="logout">로그아웃</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>
  <!-- ===============대가리부분===================== -->
  <!-- ===============몸통부분======================= -->
  <main>
    <div class="main_contents">
      <div class="popular_movie">
        <video autoplay muted>
        </video>
      </div>
      <div class="contents">
        <div class="movie">
          <a href="/html/reservation.html" class="reservation-link">
            <img src="/images/001.jpg" alt="영화1">
            <div class="description">설계자에 대한 설명</div>
          </a>
        </div>
        <div class="movie">
          <a href="/html/reservation.html" class="reservation-link">
            <img src="/images/002.jpg" alt="영화2">
            <div class="description">퓨리오사에 대한 설명</div>
          </a>
        </div>
        <div class="movie">
          <a href="/html/reservation.html" class="reservation-link">
            <img src="/images/003.jpg" alt="영화3">
            <div class="description">원더랜드에 대한 설명</div>
          </a>
        </div>
        <div class="movie">
          <a href="/html/reservation.html" class="reservation-link">
            <img src="/images/004.jpg" alt="영화4">
            <div class="description">하이큐에 대한 설명</div>
          </a>
        </div>
      </div>
    </div>
  </main>

  <!-- ===============몸통부분======================= -->

  <!-- ===============바닥부분======================= -->
  <footer>
    <p> (04377)정보산업진흥원, 남항대교</p>
    <p>대표이사 黃 사업자등록번호 010-9552-9061 통신판매업신고번호 2024-부산센텀-0329 사업자정보확인</p>
    <p>호스팅사업자 : CJ올리브네트웍스 : 개인정보보호 책임자 : 성우 : 대표이메일 : vcgvmaster@jc.net</p>
    <p>© JC VGC. LLA Left Reserved</p>
  </footer>

  <script src="/assets/js/index.js"></script>
  <script>
    function checkLogin() {
      const isLoggedIn = localStorage.getItem('isLoggedIn');
      if (isLoggedIn === 'true') {
        document.getElementById('login-btn').style.display = 'none';
        document.getElementById('signup-btn').style.display = 'none';
        document.getElementById('logout-btn').style.display = 'block';
        document.getElementById('reservation-btn').style.display = 'block'; // 로그인 상태에서 예약 정보 버튼 표시
      } else {
        document.getElementById('login-btn').style.display = 'block';
        document.getElementById('signup-btn').style.display = 'block';
        document.getElementById('logout-btn').style.display = 'none';
        document.getElementById('reservation-btn').style.display = 'none'; // 로그인 상태가 아닐 때 예약 정보 버튼 숨김
      }
    }

    document.getElementById('logout').addEventListener('click', function() {
      localStorage.setItem('isLoggedIn', 'false');
      alert('로그아웃 되었습니다.');
      window.location.href = '/html/jinjalogin.html';
    });

    // 예약 페이지로 이동 시 로그인 확인
    document.querySelectorAll('a.reservation-link').forEach(link => {
      link.addEventListener('click', function(event) {
        if (localStorage.getItem('isLoggedIn') !== 'true') {
          event.preventDefault();
          window.location.href = '/html/jinjalogin.html';
        }
      });
    });

    // 페이지 로드 시 로그인 상태 확인
    window.addEventListener('load', checkLogin);
  </script>
  <!-- ===============바닥부분======================= -->
</body>

</html>
